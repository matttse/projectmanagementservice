{% extends "layout.html" %}
{% block content %}
   <div class="panel panel-default">
  <h2 class="panel-heading">Issue List</h2>
        <a role="button"  class="btn btn-secondary btn-lg" style = "float: right;" href="{{ url_for('issues.new_issue') }}">New Issue</a>



  {% if projects|length > 0 %}
    <div class="container mx-auto my-auto py-3 px-1">
    <table class="table table-striped">

      <thead>
        <tr>
          <th>#</th>
          <th>Title</th>
          <th>Project</th>
          <th>Author</th>
          <th>Issue Date</th>
          <th>Priority</th>
        </tr>
      </thead>

    {% if issues|length > 0 %}
        {% for issue in issues %}
          <tbody>
            <th>{{ issue.id - 1 }}</th>
            <td><a class="article-title" href="{{url_for('issues.update_issue', issue_id=issue.id)}}">{{ issue.title }}</a></td>
            <td>{{ issue.project }}</td>
            <td>{{ issue.open_by }}</td>
            <td>{{ issue.issue_date.strftime('%Y-%m-%d') }}</td>
            <td>{{ issue.priority }}</td>
            <td><form action="{{url_for('issues.delete_issue', issue_id=issue.id)}}" method= "POST"><button class="btn btn-outline-danger" type="submit" value="Delete">Delete</button>
            </td>    
          </tbody>

        {% endfor %}
        </table>
      {% else %}
        <div class="alert alert-secondary">No Issues Found</div>
      {% endif %}

  {% else %}
    <div class="alert alert-secondary">No Projects to Add Issues</div>
  {% endif %}
   </div>

  {% endblock content %}

